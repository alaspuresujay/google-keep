(this.webpackJsonpgkeep=this.webpackJsonpgkeep||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(26),i=n.n(r),s=n(14),o=n(159),l=n(15),u=n(162),d=n(133),j=n(134),p=n(135),b=n(137),f=n(161),x=n(141),m=n(163),g=n(126),O=Object(g.a)((function(e){return{menuButton:{marginRight:e.spacing(1)},title:{flexGrow:1},AppBar:{backgroundColor:"#fff"},toolBar:{display:"grid",gridTemplateColumns:"50px 100px auto max-content"},searchIcon:{padding:e.spacing(0,2),height:"100%",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"gray"},search:{display:"flex",flexDirection:"row",alignItems:"center",borderRadius:4,padding:e.spacing(1,2),margin:e.spacing(0,4),backgroundColor:"rgba(0,0,0,.1)",maxWidth:"500px",alignSelf:"center"},inputInput:{flex:1},rightIcon:{marginLeft:e.spacing(1),display:"flex",alignItems:"center"}}})),h=n(132),v=n(136),y=n(138),N=n(139),k=n(140),I=n(142),C=n(0),w=n.n(C),S=n(2),A=n(19),B=n(30),T=n(27),R=function(e){return new Date(1e3*(null===e||void 0===e?void 0:e.seconds)).toLocaleString("en-IN",{year:"2-digit",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})},P=n(82),z=n(55),E=Object(P.a)({apiKey:"AIzaSyCq7pOWGXxtQdQfZMj2oOKWQlXe9MvLnJ8",authDomain:"clone-project-sujay.firebaseapp.com",projectId:"clone-project-sujay",storageBucket:"clone-project-sujay.appspot.com",messagingSenderId:"419718453701",appId:"1:419718453701:web:513af44e87860a5e9153ac",measurementId:"G-E9WTEYJ187"}),L=Object(T.g)(E),W=new z.a,D=(Object(T.c)(L,"notes"),Object(z.b)()),U=n(63),M=n(84),F=n.n(M),G=n(128),J=n(129),K=n(130),Q=n(131),X=[{id:"1",isActive:!0,Icon:G.a,text:"Notes"},{id:"2",isActive:!1,Icon:J.a,text:"Bookmarks"},{id:"3",isActive:!1,Icon:K.a,text:"Label"},{id:"4",isActive:!1,Icon:Q.a,text:"Bin"}],q=n(8),H=c.a.createContext();function Y(){return Object(a.useContext)(H)}var Z=function(e){var t=e.children,n=Object(a.useState)(null),c=Object(s.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)([]),p=Object(s.a)(j,2),b=p[0],f=p[1],x=Object(a.useState)([]),m=Object(s.a)(x,2),g=m[0],O=m[1],h=Object(a.useState)("notes/notes/dummy"),v=Object(s.a)(h,2),y=v[0],N=v[1],k=Object(a.useState)([]),I=Object(s.a)(k,2),C=I[0],P=(I[1],Object(a.useState)(X)),z=Object(s.a)(P,2),E=z[0],M=z[1],G=Object(a.useState)({}),J=Object(s.a)(G,2),K=J[0],Q=J[1],Y=Object(a.useState)({open:!1,message:"",type:"success"}),Z=Object(s.a)(Y,2),V=Z[0],$=Z[1],_=Object(a.useState)({open:!1,data:{}}),ee=Object(s.a)(_,2),te=ee[0],ne=ee[1];Object(a.useEffect)((function(){d(!0);var e=Object(T.c)(L,y),t=Object(T.h)(e,(function(e){var t=[];e.forEach((function(e){t.push(Object(B.a)(Object(B.a)({},e.data()),{},{id:e.id,createdAt:R(e.data().createdAt)}))}));var n=Object(A.a)(new Set(t.reduce((function(e,t){return[].concat(Object(A.a)(e),Object(A.a)(t.tags))}),[]))).map((function(e){return{id:Math.random().toString(16).slice(2),text:e,isActive:!1,Icon:F.a}}));M([].concat(Object(A.a)(E),Object(A.a)(n))),f(t),O(t),d(!1)}));return function(){return t()}}),[r,y]);var ae=function(){var e=Object(S.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(U.c)(D,W);case 3:return t=e.sent,n=t.user,i(n),console.log("[context/StateProvider.js:43] ---\x3e user",n),N("notes/notes/".concat(n.uid)),e.next=10,Object(T.i)(Object(T.e)(L,"notes/notes/".concat(n.uid),"userProfile"),{displayName:n.displayName,email:n.email,photoURL:n.photoURL,phoneNumber:n.phoneNumber});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),oe({open:!0,message:e.t0.message,type:"error"});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(S.a)(w.a.mark((function e(){var t,n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),t=Object(T.c)(L,y),e.next=4,Object(T.f)(t);case 4:return n=e.sent,a=n.docs.map((function(e){return Object(B.a)(Object(B.a)({},e.data()),{},{id:e.id,createdAt:R(e.data().createdAt)})})),f(a),O(a),d(!1),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(S.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return n=Object(T.c)(L,y),e.next=4,Object(T.b)(n,t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(S.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return e.prev=1,e.next=4,Object(T.j)(Object(T.e)(L,y,t.id),t);case 4:console.log("update success"),oe({open:!0,message:"Update Success",type:"success"}),ne({open:!1,data:{}}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("[context/StateProvider.js:119] ---\x3e error",e.t0),oe({open:!0,message:e.t0.message,type:"error"});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(S.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[context/StateProvider.js:59] ---\x3e id",t),!t){e.next=4;break}return e.next=4,Object(T.d)(Object(T.e)(L,y,t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(e){var t=e.open,n=e.message,a=e.type;$({open:t,message:n,type:void 0===a?"success":a}),setTimeout((function(){$({open:!1,message:"",type:"success"})}),2e3)},le={currentUser:r,notes:b,filteredNotes:g,loading:u,getNotes:ce,addNote:re,deleteNotebyId:se,setfilteredNotes:O,searchNotes:function(e){O(e?b.filter((function(t){return t.title.match(e)})):b)},handleSignIn:ae,showAlert:oe,alert:V,editNote:te,setEditNote:ne,updateDocbyId:ie,tagList:C,sidebarItems:E,selectedSidebarItem:K,selectSidebarItem:function(e){Q(e)}};return Object(q.jsx)(H.Provider,{value:le,children:t})},V=function(e){var t=e.currentUser,n=O(),r=Y(),i=r.searchNotes,o=r.loading,g=r.getNotes,C=Object(a.useState)(!1),w=Object(s.a)(C,2),S=w[0],A=w[1],B=Object(l.a)((function(e){return{tooltip:{backgroundColor:"#2e2e2e",color:"#dadde9",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}}}))(u.a),T=[Object(q.jsx)(h.a,{})];return Object(q.jsx)(d.a,{position:"static",className:n.AppBar,children:Object(q.jsxs)(j.a,{className:n.toolBar,children:[Object(q.jsx)(p.a,{edge:"start",className:n.menuButton,"aria-label":"menu",children:Object(q.jsx)(v.a,{})}),Object(q.jsx)(b.a,{color:"textPrimary",variant:"h6",className:n.title,children:"Keep"}),Object(q.jsxs)("div",{className:n.search,children:[Object(q.jsx)("div",{className:n.searchIcon,children:Object(q.jsx)(y.a,{color:"inherit"})}),Object(q.jsx)(f.a,{onChange:function(e){return i(e.target.value)},placeholder:"Search\u2026",className:n.inputInput})]}),Object(q.jsxs)("div",{className:n.rightIcon,children:[Object(q.jsx)(p.a,{edge:"start",className:n.menuButton,"aria-label":"menu",onClick:function(){return A(!S)},children:S?Object(q.jsx)(u.a,{title:"Toggle Light Mode",children:Object(q.jsx)(N.a,{})}):Object(q.jsx)(u.a,{title:"Toggle Dark Mode",children:Object(q.jsx)(k.a,{})})}),o?Object(q.jsx)(p.a,{edge:"start",className:n.menuButton,"aria-label":"menu",children:Object(q.jsx)(x.a,{size:24})}):Object(q.jsx)(p.a,{onClick:g,edge:"start",className:n.menuButton,"aria-label":"menu",children:Object(q.jsx)(I.a,{})}),T.map((function(e,t){return Object(q.jsx)(p.a,{edge:"start",className:n.menuButton,"aria-label":"menu",children:e},t)})),Object(q.jsx)(B,{title:Object(q.jsxs)(c.a.Fragment,{children:[Object(q.jsx)(b.a,{color:"inherit",children:(null===t||void 0===t?void 0:t.displayName)||"name"}),Object(q.jsx)("em",{children:null===t||void 0===t?void 0:t.email})]}),children:Object(q.jsx)(m.a,{alt:(null===t||void 0===t?void 0:t.displayName)||"name",src:(null===t||void 0===t?void 0:t.photoURL)||"https://cdn-icons-png.flaticon.com/512/2965/2965358.png"})})]})]})})},$=Object(g.a)((function(e){return{root:{flexGrow:1},container:{display:"grid",gridTemplateColumns:"300px auto",height:"100vh",padding:e.spacing(5,0)},alert:{position:"absolute",left:e.spacing(2),bottom:e.spacing(10)}}})),_=n(155),ee=n(156),te=n(157),ne=n(143),ae=n(144),ce=n(145),re=n(146),ie=Object(g.a)((function(e){return{root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},tagList:{display:"flex",marginTop:"10px"},tag:{margin:"0 4px",backgroundColor:"lightgrey",padding:"2px 4px",borderRadius:"4px"}}})),se=n(86),oe=n.n(se),le=function(e){var t=e.title,n=e.description,a=e.createdAt,c=e.id,r=e.color,i=e.tags,s=ie(),o=Y(),l=o.deleteNotebyId,u=o.setEditNote,d=function(){var e=Object(S.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(c);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(q.jsxs)(ne.a,{style:{backgroundColor:r},children:[Object(q.jsxs)(ae.a,{children:[Object(q.jsx)(b.a,{color:"textSecondary",gutterBottom:!0,variant:"caption",children:a||"02 Dec, 05:58 PM"}),Object(q.jsx)(b.a,{variant:"h5",component:"h2",children:t||"This is a default title"}),Object(q.jsx)(b.a,{variant:"body2",component:"p",children:n||"This is a description"}),Object(q.jsx)("div",{className:s.tagList,children:null===i||void 0===i?void 0:i.map((function(e){return Object(q.jsx)("div",{className:s.tag,children:e})}))})]}),Object(q.jsxs)(ce.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(q.jsx)(p.a,{size:"small","aria-label":"menu",onClick:function(){return u({open:!0,data:{title:t,description:n,createdAt:a,id:c,color:r,tags:i}})},className:s.icon,children:Object(q.jsx)(oe.a,{fontSize:"small"})}),Object(q.jsx)(re.a,{onClick:d,size:"small",children:"Delete"})]})]})},ue=n(5),de=n(88),je=n(153),pe=n(154),be=Object(g.a)((function(e){return{container:{width:"100%",display:"flex",justifyContent:"center"},colorPicker:{position:"absolute",bottom:e.spacing(5),right:e.spacing(10),maxWidth:e.spacing(20),display:"flex",flexWrap:"wrap"},colorItem:{height:e.spacing(3),width:e.spacing(3),margin:e.spacing(.4),borderRadius:"50%",cursor:"pointer",backgroundColor:"#fff000",zIndex:10},paper:{position:"relative",maxWidth:"50%",minWidth:"400px",flex:1,padding:e.spacing(1,1),display:"flex",flexDirection:"column",width:400,borderRadius:8,border:function(e){return e.err?"success"==e.type?"2px solid green":"2px solid red":"none"}},input:{marginLeft:e.spacing(1),flex:1},bottomBtns:{display:"flex",justifyContent:"space-between",padding:"0 10px"},icon:{marginRight:"12px"}}})),fe=n(147),xe=n(148),me=n(149),ge=n(150),Oe=n(151),he=n(152),ve=Object(g.a)((function(e){return{tagsInput:{display:"flex",flexWrap:"wrap",alignItems:"flex-start",width:"100%",margin:"0 0 1rem 0",padding:"0 8px",border:"1px solid #ccc2"},tags:{display:"flex",alignItems:"center",padding:"0",margin:"8px 0 0 0",flexWrap:"wrap"},tag:{width:"auto",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",padding:"4px 8px",fontSize:"14px",listStyle:"none",borderRadius:"6px",margin:"0 8px 8px 0",background:"#0052cc"},tagTitle:{},tagCloseIcon:{display:"block",width:"16px",height:"16px",lineHeight:"16px",textAlign:"center",fontSize:"16px",marginLeft:"8px",color:"#0052cc",borderRadius:"50%",background:"#fff",cursor:"pointer"},input:{flex:1,border:"none",height:"46px"}}})),ye=function(e){var t=e.selectedTags,n=e.tags,a=e.setTags,c=ve();return Object(q.jsxs)("div",{className:c.tagsInput,children:[Object(q.jsx)("ul",{id:"tags",className:c.tags,children:n.map((function(e,r){return Object(q.jsxs)("li",{className:c.tag,children:[Object(q.jsx)("span",{className:c.tagTitle,children:e}),Object(q.jsx)("span",{className:c.tagCloseIcon,onClick:function(){return e=r,a(Object(A.a)(n.filter((function(t,n){return n!==e})))),void t(Object(A.a)(n.filter((function(t,n){return n!==e}))));var e},children:"x"})]},r)}))}),Object(q.jsx)(f.a,{className:c.input,type:"text",onKeyUp:function(e){return"Enter"===e.key?function(e){""!==e.target.value&&(a([].concat(Object(A.a)(n),[e.target.value])),t([].concat(Object(A.a)(n),[e.target.value])),e.target.value="")}(e):null},placeholder:"Press enter to add tags"})]})},Ne=function(e){var t=e.createNote,n=e.inputProp,c=Y(),r=c.alert,i=c.showAlert,o=be({err:r.open,type:r.type}),l=Object(a.useState)(!1),u=Object(s.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(!1),x=Object(s.a)(b,2),m=x[0],g=x[1],O=Object(a.useState)((null===n||void 0===n?void 0:n.tags)||[]),h=Object(s.a)(O,2),v=h[0],y=h[1],N=Object(a.useState)({title:"",description:"",color:"#fff",tags:["test"]}),k=Object(s.a)(N,2),I=k[0],C=k[1],w=[{name:"addAlert",Icon:fe.a,onClick:null},{name:"Person",Icon:xe.a,onClick:null},{name:"imagePicker",Icon:me.a,onClick:null},{name:"archive",Icon:ge.a,onClick:null},{name:"colorPicker",Icon:Oe.a,onClick:function(){return g(!m)}},{name:"more",Icon:he.a,onClick:null}];Object(a.useEffect)((function(){n&&C({id:n.id,title:n.title,description:n.description,color:n.color})}),[]);var S=function(e){e.preventDefault();var t=e.target,n=t.name,a=t.value;C((function(e){return Object(B.a)(Object(B.a)({},e),{},Object(ue.a)({},n,a))}))};return Object(q.jsx)("div",{className:o.container,children:Object(q.jsxs)(de.a,{elevation:5,className:o.paper,style:{backgroundColor:I.color},children:[Object(q.jsx)(je.a,{in:m,transition:200,children:Object(q.jsx)(de.a,{className:o.colorPicker,children:["#f15bb5","#fee440","#00bbf9","#00f5d4","#83c5be","#edf6f9","#ffddd2","#e29578","#ffffff"].map((function(e,t){return Object(q.jsx)("div",{onClick:function(){C(Object(B.a)(Object(B.a)({},I),{},{color:e})),g(!1)},className:o.colorItem,style:{backgroundColor:e,border:"#ffffff"===e?"1px solid black":"none"}},t)}))})}),Object(q.jsx)(f.a,{value:I.title,className:o.input,placeholder:"Title...",onChange:S,name:"title",onFocus:function(){return j(!0)}}),Object(q.jsxs)(pe.a,{in:d,children:[Object(q.jsx)(f.a,{value:I.description,multiline:!0,minRows:3,className:o.input,placeholder:"Take a Note...",onChange:S,name:"description"}),Object(q.jsx)(ye,{selectedTags:function(e){console.log(e),C((function(t){return Object(B.a)(Object(B.a)({},t),{},{tags:e})}))},tags:v,setTags:y}),Object(q.jsxs)("div",{className:o.bottomBtns,children:[Object(q.jsx)("div",{children:w.map((function(e,t){var n=e.Icon,a=e.onClick;return Object(q.jsx)(p.a,{size:"small","aria-label":"menu",onClick:a,className:o.icon,children:Object(q.jsx)(n,{fontSize:"small"})},t)}))}),Object(q.jsx)(re.a,{onClick:function(){if(""===I.title.trim()||""===I.description.trim())i({open:!0,message:"Please fill all the fields",type:"error"});else{var e=T.a.now();t(Object(B.a)(Object(B.a)({},I),{},{createdAt:e})),C({title:"",description:"",color:"#fff",tags:[]}),y([])}},size:"small",children:"Save"})]})]})]})})},ke=Object(g.a)((function(e){return{container:{width:"100%"}}})),Ie=function(){var e=ke(),t=Y(),n=t.addNote,a=t.filteredNotes,c=t.showAlert,r=t.loading,i=function(){var e=Object(S.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:c({open:!0,message:"Success",type:"success"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(q.jsxs)(_.a,{className:e.container,children:[Object(q.jsx)(Ne,{createNote:i}),Object(q.jsx)("br",{}),Object(q.jsx)(ee.a,{}),Object(q.jsx)("br",{}),r?Object(q.jsx)("div",{style:{display:"flex",flex:1,justifyContent:"center",alignItems:"center"},children:Object(q.jsx)(x.a,{})}):Object(q.jsx)(te.a,{container:!0,spacing:2,children:a.map((function(e){return Object(q.jsx)(te.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(q.jsx)(le,Object(B.a)({},e))},e.id)}))})]})},Ce=Object(g.a)((function(e){return{container:{}}})),we=Object(g.a)((function(e){return{sideBarItem:{display:"flex",padding:e.spacing(1.2,3),alignItems:"center",backgroundColor:function(e){return e.isActive?"#feefc3":"transparent"},borderTopRightRadius:e.spacing(6),borderBottomRightRadius:e.spacing(6),cursor:"pointer","&:hover":{backgroundColor:function(e){return e.isActive?"#feefc3":"#f1f3f4"}}},icon:{marginRight:e.spacing(2),color:"#161616"},text:{fontWeight:600,color:"#161616"}}})),Se=function(e){var t=e.isActive,n=e.text,a=e.icon,c=e.onClick,r=we({isActive:t});return Object(q.jsxs)("div",{className:r.sideBarItem,onClick:c,children:[Object(q.jsx)(a,{fontSize:"medium",className:r.icon}),Object(q.jsx)(b.a,{className:r.text,children:n})]})},Ae=function(){var e=Ce(),t=Y(),n=t.sidebarItems,a=t.selectSidebarItem,c=t.selectedSidebarItem;return Object(q.jsx)("div",{className:e.container,children:n.map((function(e,t){return Object(q.jsx)(Se,{onClick:function(){return a(e)},text:e.text,icon:e.Icon,isActive:c.id===e.id},t)}))})},Be=n(160),Te=n(158),Re=function(){var e=Y(),t=e.alert,n=e.showAlert;return Object(q.jsx)(Te.a,{style:{position:"absolute",left:"20px",bottom:"20px"},direction:"right",in:t.open,mountOnEnter:!0,unmountOnExit:!0,children:Object(q.jsx)(Be.a,{variant:"outlined",onClose:function(){return n({open:!1,message:""})},severity:t.type,children:t.message||"Something went right"})})},Pe=Object(g.a)((function(e){return{container:{width:"100%",zIndex:100,position:"absolute",top:0,bottom:0,left:0,right:0,display:"grid",placeItems:"center",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)"},toolbar:{}}})),ze=function(e){var t=e.editNote,n=e.setEditNote,a=Pe(),c=Y().updateDocbyId,r=function(){var e=Object(S.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(q.jsx)("div",{id:"popover-note",className:a.container,onClick:function(e){"popover-note"===e.target.id&&n({open:!1,data:{}})},children:Object(q.jsx)(Ne,{inputProp:t.data,createNote:r})})},Ee=function(){var e=$(),t=Y(),n=t.currentUser,c=t.editNote,r=t.setEditNote,i=Object(a.useState)({open:!1,message:""}),l=Object(s.a)(i,2),u=l[0],d=l[1];return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(o.a,{}),Object(q.jsx)(Re,{}),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(V,{currentUser:n}),Object(q.jsxs)("div",{className:e.container,children:[Object(q.jsx)(Ae,{}),Object(q.jsx)(Ie,{alert:u,setalert:d})]})]}),c.open&&Object(q.jsx)(ze,{editNote:c,setEditNote:r})]})};i.a.render(Object(q.jsx)(Z,{children:Object(q.jsx)(Ee,{})}),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.b518310f.chunk.js.map